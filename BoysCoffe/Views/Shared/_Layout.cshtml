<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boys Coffee</title>
    <!--Favicon-->
    <link rel="icon" type="image/png" sizes="32x32" href="~/Content/images/logo.png" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")
    <!--Bootstrap CDN-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">




    <style>
        /* Đảm bảo rằng tất cả icon sẽ có màu sáng trên nền đen */
        footer .fab {
            color: #fff; /* Màu trắng cho các icon */
            font-size: 24px; /* Kích thước icon lớn hơn một chút */
            transition: color 0.3s ease; /* Thêm hiệu ứng chuyển màu */
        }

            /* Hiệu ứng hover cho các icon để chúng sáng lên khi di chuột vào */
            footer .fab:hover {
                color: #FFD700; /* Chuyển màu vàng khi hover vào icon */
            }

        /* Đảm bảo màu text cũng sáng và rõ ràng */
        footer .text-muted {
            color: rgba(255, 255, 255, 0.7) !important; /* Đảm bảo chữ màu sáng nhưng không quá chói */
        }

        /* Thêm hiệu ứng khi hover vào các liên kết */
        footer a:hover {
            color: #FFD700; /* Màu vàng khi hover */
            text-decoration: none;
        }

        /* Cải thiện độ tương phản cho các liên kết */
        footer .list-unstyled li a {
            color: rgba(255, 255, 255, 0.8);
            transition: color 0.3s ease;
        }

            footer .list-unstyled li a:hover {
                color: #FFD700;
                text-decoration: underline;
            }
        /* cho drop*/
        .dropdown {
            position: relative;
            display: inline-block;
            box-shadow: none;
            margin-left: 25px;
        }

        .dropdown-content {
            display: none;
            position: absolute;
            background-color: #f9f9f9;
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }

            .dropdown-content a {
                color: black;
                padding: 12px 16px;
                text-decoration: none;
                display: block;
            }

                .dropdown-content a:hover {
                    background-color: #f1f1f1;
                }

        .show {
            display: block;
        }

        button {
            border: none;
            background: none;
            padding: 0;
        }
    </style>
    <!--Style for navbar-->
    <link href="~/Content/navbar.css" rel="stylesheet" />

</head>
<body>
    <!--Custom navigation bar-->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" style="background-color: rgba(255, 255, 255, 0.9); backdrop-filter: blur(5px);">
        @if (Session["Role"] == null)
        {
            <div class="container">
                <a class="navbar-brand" href="@Url.Action("Index", "Home", new { area = "" })">
                    <img src="~/Content/images/logo.png" height="35" alt="Logo" style="width: 40px;">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="@Url.Action("Index", "Home", new { area = "" })">Trang chủ</a>
                        </li>
                        <li class="nav-item">
                            @Html.ActionLink("Thực đơn", "Menu", "Home", new { area = "" }, new { @class = "nav-link" })
                        </li>
                        <li class="nav-item">
                            @Html.ActionLink("Sản Phẩm", "Shopping", "Products", new { area = "" }, new { @class = "nav-link" })
                        </li>
                        <li class="nav-item">
                            @Html.ActionLink("Về chúng tôi", "About", "Home", new { area = "" }, new { @class = "nav-link" })
                        </li>
                    </ul>
                   
                    <a href="@Url.Action("Login", "Account")" style="margin-left:50px">
                        <div>
                            <i class="fas fa-user-circle" style="font-size: 30px; color: #20c579;"></i>
                        </div>
                    </a>
                </div>
            </div>
        }
        else if (Session["Role"].ToString() == "Customer")
        {
            <div class="container">
                <a class="navbar-brand" href="@Url.Action("Index", "Home", new { area = "" })">
                    <img src="~/Content/images/logo.png" height="35" alt="Logo" style="width: 40px;">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="@Url.Action("Index", "Home", new { area = "" })">Trang chủ</a>
                        </li>
                        <li class="nav-item">
                            @Html.ActionLink("Thực đơn", "Menu", "Home", new { area = "" }, new { @class = "nav-link" })
                        </li>
                        <li class="nav-item">
                            @Html.ActionLink("Sản Phẩm", "Shopping", "Products", new { area = "" }, new { @class = "nav-link" })
                        </li>
                        <li class="nav-item">
                            @Html.ActionLink("Về chúng tôi", "About", "Home", new { area = "" }, new { @class = "nav-link" })
                        </li>
                    </ul>
                  
                    <div class="cart-logo" style="margin-left:20px">
                        <a href="@Url.Action("ShowCart", "Products")" class="d-flex align-items-center text-dark text-decoration-none">
                            <i class="fa-solid fa-cart-shopping" style="font-size: 25px; color: #20c579;"></i>
                            <span class="ms-2">Giỏ hàng</span>
                        </a>
                    </div>
                    <div class="dropdown">
                        <button onclick="myFunction()" style="background: none; border: none; cursor: pointer;">
                            <i class="fas fa-user-circle" style="font-size: 30px; color: #20c579;"></i>
                        </button>
                        <div id="myDropdown" class="dropdown-content">
                            <a href="@Url.Action("Logout", "Account")">Đăng xuất</a>
                        </div>
                    </div>
                </div>
            </div>
        }
        else if (Session["Role"].ToString() == "Admin")
        {
    <div style="padding-left: 10rem;" class="container">
        <a class="navbar-brand" href="@Url.Action("Index", "Home", new { area = "" })">
            <img src="~/Content/images/logo.png" height="35" alt="Logo" style="width: 40px;">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="@Url.Action("Index", "Home", new { area = "" })">Trang chủ</a>
                </li>
                <li class="nav-item">
                    @Html.ActionLink("Dashboard", "Dashboard", "Admin", new { area = "" }, new { @class = "nav-link" })
                </li>
                <li class="nav-item">
                    @Html.ActionLink("Products", "Index", "Products", new { area = "" }, new { @class = "nav-link" })
                </li>
                <li class="nav-item">
                    @Html.ActionLink("Category", "Index", "Categories", new { area = "" }, new { @class = "nav-link" })
                </li>
                <li class="nav-item">
                    @Html.ActionLink("Order", "Index", "Orders", new { area = "" }, new { @class = "nav-link" })
                </li>
                <li class="nav-item">
                    @Html.ActionLink("Shop", "Shopping", "Products", new { area = "" }, new { @class = "nav-link" })
                </li>
            </ul>
        </div>
        <div class="dropdown">
            <button onclick="myFunction()" style="background: none; border: none; cursor: pointer;">
                <i class="fas fa-user-circle" style="font-size: 30px; color: #20c579;"></i>
            </button>
            <div id="myDropdown" class="dropdown-content">
                <a href="@Url.Action("Logout", "Account")">Đăng xuất</a>
            </div>
        </div>
    </div>
        }
    </nav>
    <br />
    <div class="container-fluid body-content">
        @RenderBody()
    </div>
    <br/>
    <!-- Footer -->
    <footer class="bg-dark text-white py-3">
        <div class="container">
            <div class="row">
                <!-- Column 1: Contact Information -->
                <div class="col-6 col-md-3 mb-3">
                    <h5 class="mb-2">Contact Information</h5>
                    <p class="text-muted small">For inquiries, feel free to reach us:</p>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-phone-alt"></i> +84 123 456 789</li>
                        <li><i class="fas fa-envelope"></i> info@boycoffe.com</li>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Coffee St., Hanoi, Vietnam</li>
                    </ul>
                </div>

                <!-- Column 2: Quick Links -->
                <div class="col-6 col-md-3 mb-3">
                    <h5 class="mb-2">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="/home" class="text-decoration-none text-muted">Home</a></li>
                        <li><a href="/about-us" class="text-decoration-none text-muted">About Us</a></li>
                        <li><a href="/menu" class="text-decoration-none text-muted">Menu</a></li>
                        <li><a href="/contact" class="text-decoration-none text-muted">Contact</a></li>
                    </ul>
                </div>

                <!-- Column 3: Follow Us -->
                <div class="col-6 col-md-3 mb-3">
                    <h5 class="mb-2">Follow Us</h5>
                    <div class="d-flex">
                        <a href="https://www.facebook.com/yourpage" class="text-muted me-2" target="_blank">
                            <i class="fab fa-facebook-square" style="font-size: 20px;"></i>
                        </a>
                        <a href="https://www.instagram.com/yourpage" class="text-muted me-2" target="_blank">
                            <i class="fab fa-instagram-square" style="font-size: 20px;"></i>
                        </a>
                        <a href="https://twitter.com/yourpage" class="text-muted me-2" target="_blank">
                            <i class="fab fa-twitter-square" style="font-size: 20px;"></i>
                        </a>
                        <a href="https://www.linkedin.com/company/yourpage" class="text-muted" target="_blank">
                            <i class="fab fa-linkedin" style="font-size: 20px;"></i>
                        </a>
                    </div>
                </div>

                <!-- Column 4: Google Map -->
                <div class="col-6 col-md-3 mb-3">
                    <h5 class="mb-2">Our Location</h5>
                    <div class="embed-responsive embed-responsive-16by9">
                        <!-- Google Maps Embed with smaller size -->
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3322.3549574859107!2d106.66478987417277!3d10.776019959202978!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752edb765b5c25%3A0x9a3519bdad5a85a3!2zVHLGsOG7nW5nIMSQ4bqhaSBo4buNYyBOZ2_huqFpIG5n4buvIC0gVGluIGjhu41jIFRow6BuaCBwaOG7kSBI4buTIENow60gTWluaCAoSFVGTElUKQ!5e1!3m2!1svi!2s!4v1731295799517!5m2!1svi!2s"
                                width="100%" height="150" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    </div>
                    <!-- Row for Copyright -->
                    <div class="row mt-3">
                        <div class="col-12 text-center">
                            <p class="text-muted mb-0 small">&copy; 2024 Boys Coffee. All Rights Reserved.</p>
                        </div>
                    </div>
                </div>
            </div>




    </footer>
    <!--Search bar autocomplete-->
    <script src="~/Scripts/autocomplete-search.js"></script>

    <!--Others-->
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)
</body>

</html>
<script>
    function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
    }
     document.addEventListener("DOMContentLoaded", function () {
        const searchTermInput = document.getElementById('searchTerm');
        const autocompleteList = document.getElementById('autocomplete-list');

        // Hàm để làm sạch danh sách gợi ý
        function clearSuggestions() {
            autocompleteList.innerHTML = '';
        }

        // Hàm hiển thị các gợi ý
        function showSuggestions(suggestions) {
            clearSuggestions();
            if (suggestions.length === 0) return;

            suggestions.forEach(function (suggestion) {
                const li = document.createElement('li');
                li.textContent = suggestion.label;
                li.style.padding = '8px';
                li.style.cursor = 'pointer';
                li.addEventListener('click', function () {
                    searchTermInput.value = suggestion.value;
                    clearSuggestions();
                });
                autocompleteList.appendChild(li);
            });
        }

        // Sự kiện khi người dùng gõ trong ô tìm kiếm
        searchTermInput.addEventListener('input', function () {
            const term = searchTermInput.value.trim();

            // Chỉ tìm kiếm khi từ khóa có ít nhất 2 ký tự
            if (term.length < 2) {
                clearSuggestions();
                return;
            }

            // Gọi API để tìm kiếm sản phẩm theo từ khóa
            fetch(`/Products/SearchAutocomplete?term=${term}`)
                .then(response => response.json())
                .then(data => {
                    showSuggestions(data);
                })
                .catch(error => {
                    console.error('Có lỗi xảy ra khi tìm kiếm:', error);
                    clearSuggestions();
                });
        });

        // Sự kiện khi người dùng click bên ngoài (để đóng danh sách gợi ý)
        document.addEventListener('click', function (e) {
            if (!autocompleteList.contains(e.target) && e.target !== searchTermInput) {
                clearSuggestions();
            }
        });
    });
</script>